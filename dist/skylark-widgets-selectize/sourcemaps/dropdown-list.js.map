{"version":3,"sources":["dropdown-list.js"],"names":["define","Widget","selectize","DropdownList","inherit","_construct","parent","prototype","call","this","skin","getSkin","select","document","createElement","style","backgroundColor","boxColor","color","textColor","left","top","textIndent","borderStyle","boxSizing","borderRadius","outline","cursor","MozAppearance","webkitAppearance","appearance","_elm","appendChild","arrow","display","position","pointerEvents","right","width","height","src","arrowDownIconUrl","values","setDisabled","value","disabled","setOnChange","onChange","onchange","addValue","text","option","createTextNode","push","clearValues","i","children","length","removeChild","getValue","selectedIndex","setValue","getSelectedIndex","setSelectedIndex","index","updateVisibility","visibility","visible","updateSize","size","x","y"],"mappings":";;;;;;;AAAAA,QACC,8BACA,eACC,SAASC,EAAOC,GACjB,aAEA,IAAIC,EAAeF,EAAOG,SACzBC,WAAe,SAAUC,GAExBL,EAAOM,UAAUF,WAAWG,KAAKC,KAAMH,EAAQ,OAE/C,IAAII,EAAOD,KAAKE,UAGhBF,KAAKG,OAASC,SAASC,cAAc,UAErCL,KAAKG,OAAOG,MAAMC,gBAAkBN,EAAKO,SAEzCR,KAAKG,OAAOG,MAAMG,MAAQR,EAAKS,UAC/BV,KAAKG,OAAOG,MAAMK,KAAO,MACzBX,KAAKG,OAAOG,MAAMM,IAAM,MACxBZ,KAAKG,OAAOG,MAAMO,WAAa,MAC/Bb,KAAKG,OAAOG,MAAMQ,YAAc,OAChCd,KAAKG,OAAOG,MAAMS,UAAY,aAC9Bf,KAAKG,OAAOG,MAAMU,aAAe,MACjChB,KAAKG,OAAOG,MAAMW,QAAU,OAC5BjB,KAAKG,OAAOG,MAAMY,OAAS,UAC3BlB,KAAKG,OAAOG,MAAMa,cAAgB,YAClCnB,KAAKG,OAAOG,MAAMc,iBAAmB,QACrCpB,KAAKG,OAAOG,MAAMe,WAAa,YAC/BrB,KAAKsB,KAAKC,YAAYvB,KAAKG,QAG3BH,KAAKwB,MAAQpB,SAASC,cAAc,OACpCL,KAAKwB,MAAMlB,MAAMmB,QAAU,QAC3BzB,KAAKwB,MAAMlB,MAAMoB,SAAW,WAC5B1B,KAAKwB,MAAMlB,MAAMqB,cAAgB,OACjC3B,KAAKwB,MAAMlB,MAAMsB,MAAQ,MACzB5B,KAAKwB,MAAMlB,MAAMuB,MAAQ,OACzB7B,KAAKwB,MAAMlB,MAAMwB,OAAS,OAE1B9B,KAAKwB,MAAMO,IAAM9B,EAAK+B,iBACtBhC,KAAKsB,KAAKC,YAAYvB,KAAKwB,OAG3BxB,KAAKiC,WAUNC,YAAc,SAASC,GAEtBnC,KAAKG,OAAOiC,SAAWD,GASxBE,YAAc,SAASC,GAEtBtC,KAAKG,OAAOoC,SAAWD,GAUxBE,SAAW,SAASC,EAAMN,GAEzB,IAAIO,EAAStC,SAASC,cAAc,UACpCqC,EAAOnB,YAAYnB,SAASuC,eAAeF,IAC3CzC,KAAKiC,OAAOW,KAAKT,GACjBnC,KAAKG,OAAOoB,YAAYmB,IAQzBG,YAAc,WAEb7C,KAAKiC,UACL,IAAI,IAAIa,EAAI,EAAGA,EAAI9C,KAAKG,OAAO4C,SAASC,OAAQF,IAE/C9C,KAAKG,OAAO8C,YAAYjD,KAAKG,OAAO4C,SAASD,KAU/CI,SAAW,WAEV,OAAGlD,KAAKG,OAAOgD,eAAiB,EAExBnD,KAAKiC,OAAOjC,KAAKG,OAAOgD,eAEzB,MASRC,SAAW,SAASjB,GAGnB,IAAI,IAAIW,EAAI,EAAGA,EAAI9C,KAAKiC,OAAOe,OAAQF,IAEtC,GAAG9C,KAAKiC,OAAOa,KAAOX,EACtB,CACCnC,KAAKG,OAAOgD,cAAgBL,EAC5B,MAKCA,IAAM9C,KAAKiC,OAAOe,SAEpBhD,KAAKG,OAAOgD,eAAiB,IAK/BE,iBAAmB,WAElB,OAAOrD,KAAKG,OAAOgD,eAIpBG,iBAAmB,SAASC,GAE3BvD,KAAKG,OAAOgD,cAAgBI,GAG7BC,iBAAmB,WAElBxD,KAAKsB,KAAKhB,MAAMmD,WAAazD,KAAK0D,QAAU,UAAY,UAGzDC,WAAa,WAEZnE,EAAOM,UAAU6D,WAAW5D,KAAKC,MAEjCA,KAAKG,OAAOG,MAAMuB,MAAQ7B,KAAK4D,KAAKC,EAAI,KACxC7D,KAAKG,OAAOG,MAAMwB,OAAS9B,KAAK4D,KAAKE,EAAI,KAEzC9D,KAAKwB,MAAMlB,MAAMM,KAAQZ,KAAK4D,KAAKE,EAAI,IAAM,EAAK,QAMpD,OAAOrE,EAAUC,aAAeA","file":"../dropdown-list.js","sourcesContent":["define([\r\n\t\"skylark-widgets-base/widget\",\r\n\t\"./selectize\"\r\n],function(Widget,selectize){\r\n\t\"use strict\";\r\n\r\n\tvar DropdownList = Widget.inherit({\r\n\t\t\"_construct\" : function (parent)\r\n\t\t{\r\n\t\t\tWidget.prototype._construct.call(this, parent, \"div\");\r\n\r\n\t\t\tvar skin = this.getSkin();\r\n\r\n\t\t\t// Select\r\n\t\t\tthis.select = document.createElement(\"select\");\r\n\t\t\t//this.select.style.backgroundColor = Editor.theme.boxColor;\r\n\t\t\tthis.select.style.backgroundColor = skin.boxColor;\r\n\t\t\t//this.select.style.color = Editor.theme.textColor;\r\n\t\t\tthis.select.style.color = skin.textColor;\r\n\t\t\tthis.select.style.left = \"0px\";\r\n\t\t\tthis.select.style.top = \"0px\";\r\n\t\t\tthis.select.style.textIndent = \"5px\";\r\n\t\t\tthis.select.style.borderStyle = \"none\";\r\n\t\t\tthis.select.style.boxSizing = \"border-box\";\r\n\t\t\tthis.select.style.borderRadius = \"4px\";\r\n\t\t\tthis.select.style.outline = \"none\";\r\n\t\t\tthis.select.style.cursor = \"pointer\";\r\n\t\t\tthis.select.style.MozAppearance = \"textfield\";\r\n\t\t\tthis.select.style.webkitAppearance = \"caret\";\r\n\t\t\tthis.select.style.appearance = \"textfield\";\r\n\t\t\tthis._elm.appendChild(this.select);\r\n\r\n\t\t\t// Arrow\r\n\t\t\tthis.arrow = document.createElement(\"img\");\r\n\t\t\tthis.arrow.style.display = \"block\";\r\n\t\t\tthis.arrow.style.position = \"absolute\";\r\n\t\t\tthis.arrow.style.pointerEvents = \"none\";\r\n\t\t\tthis.arrow.style.right = \"6px\";\r\n\t\t\tthis.arrow.style.width = \"10px\";\r\n\t\t\tthis.arrow.style.height = \"10px\";\r\n\t\t\t//this.arrow.src = Global.FILE_PATH + \"icons/misc/arrow_down.png\";\r\n\t\t\tthis.arrow.src = skin.arrowDownIconUrl;\r\n\t\t\tthis._elm.appendChild(this.arrow);\r\n\r\n\t\t\t// Attributes\r\n\t\t\tthis.values = [];\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Set the disabled state of the element.\r\n\t\t *\r\n\t\t * @method setDisabled\r\n\t\t * @param {boolean} disabled\r\n\t\t */\r\n\t\tsetDisabled : function(value)\r\n\t\t{\r\n\t\t\tthis.select.disabled = value;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set onchange callback, called after changes.\r\n\t\t *\r\n\t\t * @method setOnChange\r\n\t\t * @param {Function} onChange\r\n\t\t */\r\n\t\tsetOnChange : function(onChange)\r\n\t\t{\r\n\t\t\tthis.select.onchange = onChange;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Add option to the dropdown list.\r\n\t\t *\r\n\t\t * @method addValue\r\n\t\t * @param {string} text Label of the option.\r\n\t\t * @param {Object} value Value of the option.\r\n\t\t */\r\n\t\taddValue : function(text, value)\r\n\t\t{\r\n\t\t\tvar option = document.createElement(\"option\");\r\n\t\t\toption.appendChild(document.createTextNode(text));\r\n\t\t\tthis.values.push(value);\r\n\t\t\tthis.select.appendChild(option);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Remove all element from dropdown\r\n\t\t *\r\n\t\t * @method clearValues\r\n\t\t */\r\n\t\tclearValues : function()\r\n\t\t{\r\n\t\t\tthis.values = [];\r\n\t\t\tfor(var i = 0; i < this.select.children.length; i++)\r\n\t\t\t{\r\n\t\t\t\tthis.select.removeChild(this.select.children[i]);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Get value stored in the input element.\r\n\t\t *\r\n\t\t * @method setValue\r\n\t\t * @return {Object} Value stored in the input element.\r\n\t\t */\r\n\t\tgetValue : function()\r\n\t\t{\r\n\t\t\tif(this.select.selectedIndex > -1)\r\n\t\t\t{\r\n\t\t\t\treturn this.values[this.select.selectedIndex];\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set value stored in the input element.\r\n\t\t *\r\n\t\t * @method setValue\r\n\t\t * @param {Object} value\r\n\t\t */\r\n\t\tsetValue : function(value)\r\n\t\t{\r\n\t\t\t// Get value index\r\n\t\t\tfor(var i = 0; i < this.values.length; i++)\r\n\t\t\t{\r\n\t\t\t\tif(this.values[i] === value)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.select.selectedIndex = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// If value not found set selectedIndex to -1\r\n\t\t\tif(i === this.values.length)\r\n\t\t\t{\r\n\t\t\t\tthis.select.selectedIndex = -1;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Get dropdownlist selected index\r\n\t\tgetSelectedIndex : function()\r\n\t\t{\r\n\t\t\treturn this.select.selectedIndex;\r\n\t\t},\r\n\r\n\t\t// Set dropdownlist selected index\r\n\t\tsetSelectedIndex : function(index)\r\n\t\t{\r\n\t\t\tthis.select.selectedIndex = index;\r\n\t\t},\r\n\r\n\t\tupdateVisibility : function()\r\n\t\t{\r\n\t\t\tthis._elm.style.visibility = this.visible ? \"visible\" : \"hidden\";\r\n\t\t},\r\n\r\n\t\tupdateSize : function()\r\n\t\t{\r\n\t\t\tWidget.prototype.updateSize.call(this);\r\n\r\n\t\t\tthis.select.style.width = this.size.x + \"px\";\r\n\t\t\tthis.select.style.height = this.size.y + \"px\";\r\n\r\n\t\t\tthis.arrow.style.top = ((this.size.y - 10) / 2) + \"px\";\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\treturn selectize.DropdownList = DropdownList;\r\n});\r\n"]}