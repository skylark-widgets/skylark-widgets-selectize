{"version":3,"sources":["skylark-widgets-selectize.js"],"names":["define","skylark","attach","Widget","selectize","CheckBox","inherit","_construct","parent","pototype","call","this","self","element","style","display","boxSizing","cursor","backgroundColor","Editor","theme","boxColor","borderRadius","onclick","setValue","value","onChange","check","document","createElement","visibility","pointerEvents","position","top","left","width","height","src","Global","FILE_PATH","appendChild","disabled","setDisabled","getValue","setOnChange","callback","updateVisibility","visible","updateSize","size","y","DropdownList","prototype","skin","getSkin","select","color","textColor","textIndent","borderStyle","outline","MozAppearance","webkitAppearance","appearance","_elm","arrow","right","arrowDownIconUrl","values","onchange","addValue","text","option","createTextNode","push","clearValues","i","children","length","removeChild","selectedIndex","getSelectedIndex","setSelectedIndex","index","x","main"],"mappings":";;;;;;;g4BAAAA,EAAA,uCACA,yBACA,SAAAC,GAGA,OAAAA,EAAAC,OAAA,0BAKAF,EAAA,sCACA,8BACA,eACA,SAAAG,EAAAC,GACA,aASA,IAAAC,EAAAF,EAAAG,SACAC,WAAA,SAAAC,GAEAL,EAAAM,SAAAF,WAAAG,KAAAC,KAAAH,EAAA,OAEA,IAAAI,EAAAD,KAEAA,KAAAE,QAAAC,MAAAC,QAAA,QACAJ,KAAAE,QAAAC,MAAAE,UAAA,aACAL,KAAAE,QAAAC,MAAAG,OAAA,UACAN,KAAAE,QAAAC,MAAAI,gBAAAC,OAAAC,MAAAC,SACAV,KAAAE,QAAAC,MAAAQ,aAAA,MACAX,KAAAE,QAAAU,QAAA,WAEAX,EAAAY,UAAAZ,EAAAa,OAEA,OAAAb,EAAAc,UAEAd,EAAAc,SAAAd,EAAAa,QAIAd,KAAAgB,MAAAC,SAAAC,cAAA,OACAlB,KAAAgB,MAAAb,MAAAgB,WAAA,SACAnB,KAAAgB,MAAAb,MAAAiB,cAAA,OACApB,KAAAgB,MAAAb,MAAAkB,SAAA,WACArB,KAAAgB,MAAAb,MAAAmB,IAAA,MACAtB,KAAAgB,MAAAb,MAAAoB,KAAA,MACAvB,KAAAgB,MAAAb,MAAAqB,MAAA,MACAxB,KAAAgB,MAAAb,MAAAsB,OAAA,MACAzB,KAAAgB,MAAAU,IAAAC,OAAAC,UAAA,uBACA5B,KAAAE,QAAA2B,YAAA7B,KAAAgB,OAQAhB,KAAAc,OAAA,EAQAd,KAAAe,SAAA,KAQAf,KAAA8B,UAAA,GAtEAC,YAAA,SAAAjB,GAEAd,KAAA8B,SAAAhB,GAEA,IAAAd,KAAA8B,UAEA9B,KAAAE,QAAAC,MAAAG,OAAA,UACAN,KAAAE,QAAAC,MAAAiB,cAAA,SAIApB,KAAAE,QAAAC,MAAAG,OAAA,UACAN,KAAAE,QAAAC,MAAAiB,cAAA,SAUAP,SAAA,SAAAC,GAEAd,KAAAc,MAAAA,EACAd,KAAAgB,MAAAb,MAAAgB,WAAAnB,KAAAc,MAAA,UAAA,UASAkB,SAAA,WAEA,OAAAhC,KAAAc,OASAmB,YAAA,SAAAC,GAEAlC,KAAAe,SAAAmB,GAGAC,iBAAA,WAEAnC,KAAAE,QAAAC,MAAAgB,WAAAnB,KAAAoC,QAAA,UAAA,UAGAC,WAAA,WAEArC,KAAAE,QAAAC,MAAAqB,MAAAxB,KAAAsC,KAAAC,EAAA,KACAvC,KAAAE,QAAAC,MAAAsB,OAAAzB,KAAAsC,KAAAC,EAAA,QAOA,OAAA9C,EAAAC,SAAAA,IAEAL,EAAA,0CACA,8BACA,eACA,SAAAG,EAAAC,GACA,aAEA,IAAA+C,EAAAhD,EAAAG,SACAC,WAAA,SAAAC,GAEAL,EAAAiD,UAAA7C,WAAAG,KAAAC,KAAAH,EAAA,OAEA,IAAA6C,EAAA1C,KAAA2C,UAGA3C,KAAA4C,OAAA3B,SAAAC,cAAA,UAEAlB,KAAA4C,OAAAzC,MAAAI,gBAAAmC,EAAAhC,SAEAV,KAAA4C,OAAAzC,MAAA0C,MAAAH,EAAAI,UACA9C,KAAA4C,OAAAzC,MAAAoB,KAAA,MACAvB,KAAA4C,OAAAzC,MAAAmB,IAAA,MACAtB,KAAA4C,OAAAzC,MAAA4C,WAAA,MACA/C,KAAA4C,OAAAzC,MAAA6C,YAAA,OACAhD,KAAA4C,OAAAzC,MAAAE,UAAA,aACAL,KAAA4C,OAAAzC,MAAAQ,aAAA,MACAX,KAAA4C,OAAAzC,MAAA8C,QAAA,OACAjD,KAAA4C,OAAAzC,MAAAG,OAAA,UACAN,KAAA4C,OAAAzC,MAAA+C,cAAA,YACAlD,KAAA4C,OAAAzC,MAAAgD,iBAAA,QACAnD,KAAA4C,OAAAzC,MAAAiD,WAAA,YACApD,KAAAqD,KAAAxB,YAAA7B,KAAA4C,QAGA5C,KAAAsD,MAAArC,SAAAC,cAAA,OACAlB,KAAAsD,MAAAnD,MAAAC,QAAA,QACAJ,KAAAsD,MAAAnD,MAAAkB,SAAA,WACArB,KAAAsD,MAAAnD,MAAAiB,cAAA,OACApB,KAAAsD,MAAAnD,MAAAoD,MAAA,MACAvD,KAAAsD,MAAAnD,MAAAqB,MAAA,OACAxB,KAAAsD,MAAAnD,MAAAsB,OAAA,OAEAzB,KAAAsD,MAAA5B,IAAAgB,EAAAc,iBACAxD,KAAAqD,KAAAxB,YAAA7B,KAAAsD,OAGAtD,KAAAyD,WAUA1B,YAAA,SAAAjB,GAEAd,KAAA4C,OAAAd,SAAAhB,GASAmB,YAAA,SAAAlB,GAEAf,KAAA4C,OAAAc,SAAA3C,GAUA4C,SAAA,SAAAC,EAAA9C,GAEA,IAAA+C,EAAA5C,SAAAC,cAAA,UACA2C,EAAAhC,YAAAZ,SAAA6C,eAAAF,IACA5D,KAAAyD,OAAAM,KAAAjD,GACAd,KAAA4C,OAAAf,YAAAgC,IAQAG,YAAA,WAEAhE,KAAAyD,UACA,IAAA,IAAAQ,EAAA,EAAAA,EAAAjE,KAAA4C,OAAAsB,SAAAC,OAAAF,IAEAjE,KAAA4C,OAAAwB,YAAApE,KAAA4C,OAAAsB,SAAAD,KAUAjC,SAAA,WAEA,OAAAhC,KAAA4C,OAAAyB,eAAA,EAEArE,KAAAyD,OAAAzD,KAAA4C,OAAAyB,eAEA,MASAxD,SAAA,SAAAC,GAGA,IAAA,IAAAmD,EAAA,EAAAA,EAAAjE,KAAAyD,OAAAU,OAAAF,IAEA,GAAAjE,KAAAyD,OAAAQ,KAAAnD,EACA,CACAd,KAAA4C,OAAAyB,cAAAJ,EACA,MAKAA,IAAAjE,KAAAyD,OAAAU,SAEAnE,KAAA4C,OAAAyB,eAAA,IAKAC,iBAAA,WAEA,OAAAtE,KAAA4C,OAAAyB,eAIAE,iBAAA,SAAAC,GAEAxE,KAAA4C,OAAAyB,cAAAG,GAGArC,iBAAA,WAEAnC,KAAAqD,KAAAlD,MAAAgB,WAAAnB,KAAAoC,QAAA,UAAA,UAGAC,WAAA,WAEA7C,EAAAiD,UAAAJ,WAAAtC,KAAAC,MAEAA,KAAA4C,OAAAzC,MAAAqB,MAAAxB,KAAAsC,KAAAmC,EAAA,KACAzE,KAAA4C,OAAAzC,MAAAsB,OAAAzB,KAAAsC,KAAAC,EAAA,KAEAvC,KAAAsD,MAAAnD,MAAAmB,KAAAtB,KAAAsC,KAAAC,EAAA,IAAA,EAAA,QAMA,OAAA9C,EAAA+C,aAAAA,IAGAnD,EAAA,kCACA,cACA,aACA,kBACA,SAAAI,GACA,OAAAA,IAEAJ,EAAA,6BAAA,kCAAA,SAAAqF,GAAA,OAAAA","file":"../skylark-widgets-selectize.js","sourcesContent":["define('skylark-widgets-selectize/selectize',[\r\n\t\"skylark-langx/skylark\"\r\n],function(skylark) {\r\n\tvar selectize = {};\r\n\r\n\treturn skylark.attach(\"widgets.selectize\",selectize);\r\n\r\n});\r\n\r\n\ndefine('skylark-widgets-selectize/CheckBox',[\r\n\t\"skylark-widgets-base/Widget\",\r\n\t\"./selectize\"\r\n],function(Widget,selectize){\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * Check box input element.\r\n\t * \r\n\t * @class CheckBox\r\n\t * @extends {Widget}\r\n\t * @param {Widget} parent Parent element.\r\n\t */\r\n\t var CheckBox = Widget.inherit({\r\n\t\t\"_construct\" : function (parent)\r\n\t\t{\r\n\t\t\tWidget.pototype._construct.call(this, parent, \"div\");\r\n\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tthis.element.style.display = \"block\";\r\n\t\t\tthis.element.style.boxSizing = \"border-box\";\r\n\t\t\tthis.element.style.cursor = \"pointer\";\r\n\t\t\tthis.element.style.backgroundColor = Editor.theme.boxColor;\r\n\t\t\tthis.element.style.borderRadius = \"4px\";\r\n\t\t\tthis.element.onclick = function()\r\n\t\t\t{\r\n\t\t\t\tself.setValue(!self.value);\r\n\t\t\t\t\r\n\t\t\t\tif(self.onChange !== null)\r\n\t\t\t\t{\r\n\t\t\t\t\tself.onChange(self.value);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tthis.check = document.createElement(\"img\");\r\n\t\t\tthis.check.style.visibility = \"hidden\";\r\n\t\t\tthis.check.style.pointerEvents = \"none\";\r\n\t\t\tthis.check.style.position = \"absolute\";\r\n\t\t\tthis.check.style.top = \"20%\";\r\n\t\t\tthis.check.style.left = \"20%\";\r\n\t\t\tthis.check.style.width = \"60%\";\r\n\t\t\tthis.check.style.height = \"60%\";\r\n\t\t\tthis.check.src = Global.FILE_PATH + \"icons/misc/check.png\";\r\n\t\t\tthis.element.appendChild(this.check);\r\n\r\n\t\t\t/**\r\n\t\t\t * Value stored in the checkbox.\r\n\t\t\t *\r\n\t\t\t * @property value\r\n\t\t\t * @type {Boolean}\r\n\t\t\t */\r\n\t\t\tthis.value = false;\r\n\r\n\t\t\t/**\r\n\t\t\t * On change callback function.\r\n\t\t\t *\r\n\t\t\t * @property onChange\r\n\t\t\t * @type {Function}\r\n\t\t\t */\r\n\t\t\tthis.onChange = null;\r\n\r\n\t\t\t/** \r\n\t\t\t * If the checkbox is disabled the value cannot be edited.\r\n\t\t\t *\r\n\t\t\t * @attribute disabled\r\n\t\t\t * @type {Boolean}\r\n\t\t\t */\r\n\t\t\tthis.disabled = false;\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Set if element is disabled.\r\n\t\t *\r\n\t\t * When disabled the checkbox value cannot be edited.\r\n\t\t *\r\n\t\t * @method setDisabled\r\n\t\t */\r\n\t\tsetDisabled : function(value)\r\n\t\t{\r\n\t\t\tthis.disabled = value;\r\n\t\t\t\r\n\t\t\tif(this.disabled === true)\r\n\t\t\t{\r\n\t\t\t\tthis.element.style.cursor = \"initial\";\r\n\t\t\t\tthis.element.style.pointerEvents = \"none\";\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.element.style.cursor = \"pointer\";\r\n\t\t\t\tthis.element.style.pointerEvents = \"auto\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set checkbox value.\r\n\t\t * \r\n\t\t * @method setValue\r\n\t\t * @param {Boolean} value\r\n\t\t */\r\n\t\tsetValue : function(value)\r\n\t\t{\r\n\t\t\tthis.value = value;\r\n\t\t\tthis.check.style.visibility = this.value ? \"visible\" : \"hidden\";\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Get checkbox value.\r\n\t\t * \r\n\t\t * @method getValue\r\n\t\t * @return {Boolean} Value from the element.\r\n\t\t */\r\n\t\tgetValue : function()\r\n\t\t{\r\n\t\t\treturn this.value;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set onchange callback.\r\n\t\t * \r\n\t\t * @method setOnChange\r\n\t\t * @param {Function} callback\r\n\t\t */\r\n\t\tsetOnChange : function(callback)\r\n\t\t{\r\n\t\t\tthis.onChange = callback;\r\n\t\t},\r\n\r\n\t\tupdateVisibility : function()\r\n\t\t{\r\n\t\t\tthis.element.style.visibility = this.visible ? \"visible\" : \"hidden\";\r\n\t\t},\r\n\r\n\t\tupdateSize : function()\r\n\t\t{\r\n\t\t\tthis.element.style.width = this.size.y + \"px\";\r\n\t\t\tthis.element.style.height = this.size.y + \"px\";\r\n\t\t}\r\n\r\n\t });\r\n\r\n\r\n\r\n\treturn selectize.CheckBox = CheckBox;\r\n});\ndefine('skylark-widgets-selectize/DropdownList',[\r\n\t\"skylark-widgets-base/Widget\",\r\n\t\"./selectize\"\r\n],function(Widget,selectize){\r\n\t\"use strict\";\r\n\r\n\tvar DropdownList = Widget.inherit({\r\n\t\t\"_construct\" : function (parent)\r\n\t\t{\r\n\t\t\tWidget.prototype._construct.call(this, parent, \"div\");\r\n\r\n\t\t\tvar skin = this.getSkin();\r\n\r\n\t\t\t// Select\r\n\t\t\tthis.select = document.createElement(\"select\");\r\n\t\t\t//this.select.style.backgroundColor = Editor.theme.boxColor;\r\n\t\t\tthis.select.style.backgroundColor = skin.boxColor;\r\n\t\t\t//this.select.style.color = Editor.theme.textColor;\r\n\t\t\tthis.select.style.color = skin.textColor;\r\n\t\t\tthis.select.style.left = \"0px\";\r\n\t\t\tthis.select.style.top = \"0px\";\r\n\t\t\tthis.select.style.textIndent = \"5px\";\r\n\t\t\tthis.select.style.borderStyle = \"none\";\r\n\t\t\tthis.select.style.boxSizing = \"border-box\";\r\n\t\t\tthis.select.style.borderRadius = \"4px\";\r\n\t\t\tthis.select.style.outline = \"none\";\r\n\t\t\tthis.select.style.cursor = \"pointer\";\r\n\t\t\tthis.select.style.MozAppearance = \"textfield\";\r\n\t\t\tthis.select.style.webkitAppearance = \"caret\";\r\n\t\t\tthis.select.style.appearance = \"textfield\";\r\n\t\t\tthis._elm.appendChild(this.select);\r\n\r\n\t\t\t// Arrow\r\n\t\t\tthis.arrow = document.createElement(\"img\");\r\n\t\t\tthis.arrow.style.display = \"block\";\r\n\t\t\tthis.arrow.style.position = \"absolute\";\r\n\t\t\tthis.arrow.style.pointerEvents = \"none\";\r\n\t\t\tthis.arrow.style.right = \"6px\";\r\n\t\t\tthis.arrow.style.width = \"10px\";\r\n\t\t\tthis.arrow.style.height = \"10px\";\r\n\t\t\t//this.arrow.src = Global.FILE_PATH + \"icons/misc/arrow_down.png\";\r\n\t\t\tthis.arrow.src = skin.arrowDownIconUrl;\r\n\t\t\tthis._elm.appendChild(this.arrow);\r\n\r\n\t\t\t// Attributes\r\n\t\t\tthis.values = [];\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Set the disabled state of the element.\r\n\t\t *\r\n\t\t * @method setDisabled\r\n\t\t * @param {boolean} disabled\r\n\t\t */\r\n\t\tsetDisabled : function(value)\r\n\t\t{\r\n\t\t\tthis.select.disabled = value;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set onchange callback, called after changes.\r\n\t\t *\r\n\t\t * @method setOnChange\r\n\t\t * @param {Function} onChange\r\n\t\t */\r\n\t\tsetOnChange : function(onChange)\r\n\t\t{\r\n\t\t\tthis.select.onchange = onChange;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Add option to the dropdown list.\r\n\t\t *\r\n\t\t * @method addValue\r\n\t\t * @param {string} text Label of the option.\r\n\t\t * @param {Object} value Value of the option.\r\n\t\t */\r\n\t\taddValue : function(text, value)\r\n\t\t{\r\n\t\t\tvar option = document.createElement(\"option\");\r\n\t\t\toption.appendChild(document.createTextNode(text));\r\n\t\t\tthis.values.push(value);\r\n\t\t\tthis.select.appendChild(option);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Remove all element from dropdown\r\n\t\t *\r\n\t\t * @method clearValues\r\n\t\t */\r\n\t\tclearValues : function()\r\n\t\t{\r\n\t\t\tthis.values = [];\r\n\t\t\tfor(var i = 0; i < this.select.children.length; i++)\r\n\t\t\t{\r\n\t\t\t\tthis.select.removeChild(this.select.children[i]);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Get value stored in the input element.\r\n\t\t *\r\n\t\t * @method setValue\r\n\t\t * @return {Object} Value stored in the input element.\r\n\t\t */\r\n\t\tgetValue : function()\r\n\t\t{\r\n\t\t\tif(this.select.selectedIndex > -1)\r\n\t\t\t{\r\n\t\t\t\treturn this.values[this.select.selectedIndex];\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set value stored in the input element.\r\n\t\t *\r\n\t\t * @method setValue\r\n\t\t * @param {Object} value\r\n\t\t */\r\n\t\tsetValue : function(value)\r\n\t\t{\r\n\t\t\t// Get value index\r\n\t\t\tfor(var i = 0; i < this.values.length; i++)\r\n\t\t\t{\r\n\t\t\t\tif(this.values[i] === value)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.select.selectedIndex = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// If value not found set selectedIndex to -1\r\n\t\t\tif(i === this.values.length)\r\n\t\t\t{\r\n\t\t\t\tthis.select.selectedIndex = -1;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Get dropdownlist selected index\r\n\t\tgetSelectedIndex : function()\r\n\t\t{\r\n\t\t\treturn this.select.selectedIndex;\r\n\t\t},\r\n\r\n\t\t// Set dropdownlist selected index\r\n\t\tsetSelectedIndex : function(index)\r\n\t\t{\r\n\t\t\tthis.select.selectedIndex = index;\r\n\t\t},\r\n\r\n\t\tupdateVisibility : function()\r\n\t\t{\r\n\t\t\tthis._elm.style.visibility = this.visible ? \"visible\" : \"hidden\";\r\n\t\t},\r\n\r\n\t\tupdateSize : function()\r\n\t\t{\r\n\t\t\tWidget.prototype.updateSize.call(this);\r\n\r\n\t\t\tthis.select.style.width = this.size.x + \"px\";\r\n\t\t\tthis.select.style.height = this.size.y + \"px\";\r\n\r\n\t\t\tthis.arrow.style.top = ((this.size.y - 10) / 2) + \"px\";\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\treturn selectize.DropdownList = DropdownList;\r\n});\r\n\ndefine('skylark-widgets-selectize/main',[\r\n\t\"./selectize\",\r\n\t\"./CheckBox\",\r\n\t\"./DropdownList\"\r\n],function(selectize){\r\n\treturn selectize;\r\n});\ndefine('skylark-widgets-selectize', ['skylark-widgets-selectize/main'], function (main) { return main; });\n\n"]}