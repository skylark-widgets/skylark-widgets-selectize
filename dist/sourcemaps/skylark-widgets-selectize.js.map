{"version":3,"sources":["skylark-widgets-selectize.js"],"names":["define","skylark","attach","Widget","selectize","CheckBox","inherit","_construct","parent","prototype","call","this","self","element","style","display","boxSizing","cursor","backgroundColor","Editor","theme","boxColor","borderRadius","onclick","setValue","value","onChange","check","document","createElement","visibility","pointerEvents","position","top","left","width","height","src","Global","FILE_PATH","appendChild","disabled","setDisabled","getValue","setOnChange","callback","updateVisibility","visible","updateSize","size","y","DropdownList","skin","getSkin","select","color","textColor","textIndent","borderStyle","outline","MozAppearance","webkitAppearance","appearance","_elm","arrow","right","arrowDownIconUrl","values","onchange","addValue","text","option","createTextNode","push","clearValues","i","children","length","removeChild","selectedIndex","getSelectedIndex","setSelectedIndex","index","x","main"],"mappings":"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","file":"../skylark-widgets-selectize.js","sourcesContent":["define('skylark-widgets-selectize/selectize',[\r\n\t\"skylark-langx/skylark\"\r\n],function(skylark) {\r\n\tvar selectize = {};\r\n\r\n\treturn skylark.attach(\"widgets.selectize\",selectize);\r\n\r\n});\r\n\r\n\ndefine('skylark-widgets-selectize/checkbox',[\r\n\t\"skylark-widgets-base/widget\",\r\n\t\"./selectize\"\r\n],function(Widget,selectize){\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * Check box input element.\r\n\t * \r\n\t * @class CheckBox\r\n\t * @extends {Widget}\r\n\t * @param {Widget} parent Parent element.\r\n\t */\r\n\t var CheckBox = Widget.inherit({\r\n\t\t\"_construct\" : function (parent)\r\n\t\t{\r\n\t\t\tWidget.prototype._construct.call(this, parent, \"div\");\r\n\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tthis.element.style.display = \"block\";\r\n\t\t\tthis.element.style.boxSizing = \"border-box\";\r\n\t\t\tthis.element.style.cursor = \"pointer\";\r\n\t\t\tthis.element.style.backgroundColor = Editor.theme.boxColor;\r\n\t\t\tthis.element.style.borderRadius = \"4px\";\r\n\t\t\tthis.element.onclick = function()\r\n\t\t\t{\r\n\t\t\t\tself.setValue(!self.value);\r\n\t\t\t\t\r\n\t\t\t\tif(self.onChange !== null)\r\n\t\t\t\t{\r\n\t\t\t\t\tself.onChange(self.value);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tthis.check = document.createElement(\"img\");\r\n\t\t\tthis.check.style.visibility = \"hidden\";\r\n\t\t\tthis.check.style.pointerEvents = \"none\";\r\n\t\t\tthis.check.style.position = \"absolute\";\r\n\t\t\tthis.check.style.top = \"20%\";\r\n\t\t\tthis.check.style.left = \"20%\";\r\n\t\t\tthis.check.style.width = \"60%\";\r\n\t\t\tthis.check.style.height = \"60%\";\r\n\t\t\tthis.check.src = Global.FILE_PATH + \"icons/misc/check.png\";\r\n\t\t\tthis.element.appendChild(this.check);\r\n\r\n\t\t\t/**\r\n\t\t\t * Value stored in the checkbox.\r\n\t\t\t *\r\n\t\t\t * @property value\r\n\t\t\t * @type {Boolean}\r\n\t\t\t */\r\n\t\t\tthis.value = false;\r\n\r\n\t\t\t/**\r\n\t\t\t * On change callback function.\r\n\t\t\t *\r\n\t\t\t * @property onChange\r\n\t\t\t * @type {Function}\r\n\t\t\t */\r\n\t\t\tthis.onChange = null;\r\n\r\n\t\t\t/** \r\n\t\t\t * If the checkbox is disabled the value cannot be edited.\r\n\t\t\t *\r\n\t\t\t * @attribute disabled\r\n\t\t\t * @type {Boolean}\r\n\t\t\t */\r\n\t\t\tthis.disabled = false;\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Set if element is disabled.\r\n\t\t *\r\n\t\t * When disabled the checkbox value cannot be edited.\r\n\t\t *\r\n\t\t * @method setDisabled\r\n\t\t */\r\n\t\tsetDisabled : function(value)\r\n\t\t{\r\n\t\t\tthis.disabled = value;\r\n\t\t\t\r\n\t\t\tif(this.disabled === true)\r\n\t\t\t{\r\n\t\t\t\tthis.element.style.cursor = \"initial\";\r\n\t\t\t\tthis.element.style.pointerEvents = \"none\";\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.element.style.cursor = \"pointer\";\r\n\t\t\t\tthis.element.style.pointerEvents = \"auto\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set checkbox value.\r\n\t\t * \r\n\t\t * @method setValue\r\n\t\t * @param {Boolean} value\r\n\t\t */\r\n\t\tsetValue : function(value)\r\n\t\t{\r\n\t\t\tthis.value = value;\r\n\t\t\tthis.check.style.visibility = this.value ? \"visible\" : \"hidden\";\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Get checkbox value.\r\n\t\t * \r\n\t\t * @method getValue\r\n\t\t * @return {Boolean} Value from the element.\r\n\t\t */\r\n\t\tgetValue : function()\r\n\t\t{\r\n\t\t\treturn this.value;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set onchange callback.\r\n\t\t * \r\n\t\t * @method setOnChange\r\n\t\t * @param {Function} callback\r\n\t\t */\r\n\t\tsetOnChange : function(callback)\r\n\t\t{\r\n\t\t\tthis.onChange = callback;\r\n\t\t},\r\n\r\n\t\tupdateVisibility : function()\r\n\t\t{\r\n\t\t\tthis.element.style.visibility = this.visible ? \"visible\" : \"hidden\";\r\n\t\t},\r\n\r\n\t\tupdateSize : function()\r\n\t\t{\r\n\t\t\tthis.element.style.width = this.size.y + \"px\";\r\n\t\t\tthis.element.style.height = this.size.y + \"px\";\r\n\t\t}\r\n\r\n\t });\r\n\r\n\r\n\r\n\treturn selectize.CheckBox = CheckBox;\r\n});\ndefine('skylark-widgets-selectize/dropdown-list',[\r\n\t\"skylark-widgets-base/widget\",\r\n\t\"./selectize\"\r\n],function(Widget,selectize){\r\n\t\"use strict\";\r\n\r\n\tvar DropdownList = Widget.inherit({\r\n\t\t\"_construct\" : function (parent)\r\n\t\t{\r\n\t\t\tWidget.prototype._construct.call(this, parent, \"div\");\r\n\r\n\t\t\tvar skin = this.getSkin();\r\n\r\n\t\t\t// Select\r\n\t\t\tthis.select = document.createElement(\"select\");\r\n\t\t\t//this.select.style.backgroundColor = Editor.theme.boxColor;\r\n\t\t\tthis.select.style.backgroundColor = skin.boxColor;\r\n\t\t\t//this.select.style.color = Editor.theme.textColor;\r\n\t\t\tthis.select.style.color = skin.textColor;\r\n\t\t\tthis.select.style.left = \"0px\";\r\n\t\t\tthis.select.style.top = \"0px\";\r\n\t\t\tthis.select.style.textIndent = \"5px\";\r\n\t\t\tthis.select.style.borderStyle = \"none\";\r\n\t\t\tthis.select.style.boxSizing = \"border-box\";\r\n\t\t\tthis.select.style.borderRadius = \"4px\";\r\n\t\t\tthis.select.style.outline = \"none\";\r\n\t\t\tthis.select.style.cursor = \"pointer\";\r\n\t\t\tthis.select.style.MozAppearance = \"textfield\";\r\n\t\t\tthis.select.style.webkitAppearance = \"caret\";\r\n\t\t\tthis.select.style.appearance = \"textfield\";\r\n\t\t\tthis._elm.appendChild(this.select);\r\n\r\n\t\t\t// Arrow\r\n\t\t\tthis.arrow = document.createElement(\"img\");\r\n\t\t\tthis.arrow.style.display = \"block\";\r\n\t\t\tthis.arrow.style.position = \"absolute\";\r\n\t\t\tthis.arrow.style.pointerEvents = \"none\";\r\n\t\t\tthis.arrow.style.right = \"6px\";\r\n\t\t\tthis.arrow.style.width = \"10px\";\r\n\t\t\tthis.arrow.style.height = \"10px\";\r\n\t\t\t//this.arrow.src = Global.FILE_PATH + \"icons/misc/arrow_down.png\";\r\n\t\t\tthis.arrow.src = skin.arrowDownIconUrl;\r\n\t\t\tthis._elm.appendChild(this.arrow);\r\n\r\n\t\t\t// Attributes\r\n\t\t\tthis.values = [];\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Set the disabled state of the element.\r\n\t\t *\r\n\t\t * @method setDisabled\r\n\t\t * @param {boolean} disabled\r\n\t\t */\r\n\t\tsetDisabled : function(value)\r\n\t\t{\r\n\t\t\tthis.select.disabled = value;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set onchange callback, called after changes.\r\n\t\t *\r\n\t\t * @method setOnChange\r\n\t\t * @param {Function} onChange\r\n\t\t */\r\n\t\tsetOnChange : function(onChange)\r\n\t\t{\r\n\t\t\tthis.select.onchange = onChange;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Add option to the dropdown list.\r\n\t\t *\r\n\t\t * @method addValue\r\n\t\t * @param {string} text Label of the option.\r\n\t\t * @param {Object} value Value of the option.\r\n\t\t */\r\n\t\taddValue : function(text, value)\r\n\t\t{\r\n\t\t\tvar option = document.createElement(\"option\");\r\n\t\t\toption.appendChild(document.createTextNode(text));\r\n\t\t\tthis.values.push(value);\r\n\t\t\tthis.select.appendChild(option);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Remove all element from dropdown\r\n\t\t *\r\n\t\t * @method clearValues\r\n\t\t */\r\n\t\tclearValues : function()\r\n\t\t{\r\n\t\t\tthis.values = [];\r\n\t\t\tfor(var i = 0; i < this.select.children.length; i++)\r\n\t\t\t{\r\n\t\t\t\tthis.select.removeChild(this.select.children[i]);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Get value stored in the input element.\r\n\t\t *\r\n\t\t * @method setValue\r\n\t\t * @return {Object} Value stored in the input element.\r\n\t\t */\r\n\t\tgetValue : function()\r\n\t\t{\r\n\t\t\tif(this.select.selectedIndex > -1)\r\n\t\t\t{\r\n\t\t\t\treturn this.values[this.select.selectedIndex];\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set value stored in the input element.\r\n\t\t *\r\n\t\t * @method setValue\r\n\t\t * @param {Object} value\r\n\t\t */\r\n\t\tsetValue : function(value)\r\n\t\t{\r\n\t\t\t// Get value index\r\n\t\t\tfor(var i = 0; i < this.values.length; i++)\r\n\t\t\t{\r\n\t\t\t\tif(this.values[i] === value)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.select.selectedIndex = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// If value not found set selectedIndex to -1\r\n\t\t\tif(i === this.values.length)\r\n\t\t\t{\r\n\t\t\t\tthis.select.selectedIndex = -1;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Get dropdownlist selected index\r\n\t\tgetSelectedIndex : function()\r\n\t\t{\r\n\t\t\treturn this.select.selectedIndex;\r\n\t\t},\r\n\r\n\t\t// Set dropdownlist selected index\r\n\t\tsetSelectedIndex : function(index)\r\n\t\t{\r\n\t\t\tthis.select.selectedIndex = index;\r\n\t\t},\r\n\r\n\t\tupdateVisibility : function()\r\n\t\t{\r\n\t\t\tthis._elm.style.visibility = this.visible ? \"visible\" : \"hidden\";\r\n\t\t},\r\n\r\n\t\tupdateSize : function()\r\n\t\t{\r\n\t\t\tWidget.prototype.updateSize.call(this);\r\n\r\n\t\t\tthis.select.style.width = this.size.x + \"px\";\r\n\t\t\tthis.select.style.height = this.size.y + \"px\";\r\n\r\n\t\t\tthis.arrow.style.top = ((this.size.y - 10) / 2) + \"px\";\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\treturn selectize.DropdownList = DropdownList;\r\n});\r\n\ndefine('skylark-widgets-selectize/main',[\r\n\t\"./selectize\",\r\n\t\"./checkbox\",\r\n\t\"./dropdown-list\"\r\n],function(selectize){\r\n\treturn selectize;\r\n});\ndefine('skylark-widgets-selectize', ['skylark-widgets-selectize/main'], function (main) { return main; });\n\n"]}